# Usage
FileCopier allows you to easily copy files matching the golang Match syntax found [here](https://golang.org/pkg/path/filepath/#Match)
between two directories following the same hierarchy. It will overwrite files by default if the source contains a newer version.

## Installation
Download the correct version from the [release page](https://github.com/batkinson27/FileCopier/releases/latest) and open it's location in your terminal.

## Limitations

+ The source and destination folders **MUST** share the same structure.
+ The files to be copied **MUST** be in a "leaf" directory; one containing only files.

## Use
`>filecopier -source `_`source`_` -dest `_`dest`_` [<options>]`
where _source_ and _dest_ are the root directories to be processed. 

### Parameters

#### Required
+ `source`: The parent directory of the "from" files. Must have the same structure as the destination e.g. if your hierarchy is \"\\Music\\%Artist%\\%Album%\\%files%\", then the \"source\" would be \"\\Music\"
+ `dest`: The parent directory of the "to" files. Must have the same structure as the source e.g. if your hierarchy is \"\\Music\\%Artist%\\%Album%\\%files%\", then the \"dest\" would be \"\\Music\"

#### Optional

+ `-ext `_`"pattern"`_``: The pattern to match against for copying files. Must be in golang Match format ([syntax](https://golang.org/pkg/path/filepath/#Match)).  
Default pattern: `?older.*`
+ `-delete`: Deletes any empty directories in the destination if they would remain empty after copying all matched files.
+ `-before`: Deletes any empty directories in the destination if they are empty _before_ copying all matched files.
+ `-maintain`: Prevents overwriting files in the destination if they already exist with newer versions.

## Example - Album Artwork (Default Use Case)

This is the reason I created the utility. My music library is organised in the following way:

├─ D:  
│&nbsp; &nbsp; ├─ Music  
│&nbsp; &nbsp; │&nbsp; &nbsp; ├─ AC/DC   
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; ├─ Back In Black  
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; ├─ _Music Files_  
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; └─ Folder.png   
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; ├─ Ballbreaker  
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; ├─ _Music Files_  
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; └─ folder.jpg   
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; ├─ Black Ice  
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; ├─ _Music Files_  
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; └─ Folder.jpg   
┊&nbsp; &nbsp; ┊&nbsp; &nbsp; ┊&nbsp; &nbsp; ┊  
│&nbsp; &nbsp; ├─ Phone  
│&nbsp; &nbsp; │&nbsp; &nbsp; ├─ AC/DC  
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; ├─ Back In Black  
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; └─ _Music Files_  
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; ├─ Black Ice  
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; └─ _Music Files_  
┊&nbsp; &nbsp; ┊&nbsp; &nbsp; ┊&nbsp; &nbsp; ┊  

Where the "Music" directory contains all of the music in my collection, and the "Phone" directory contains their MP3 counterparts,
as generated by foobar2000. The goal is to copy all the "Folder" images (the album artworks) from the "Music" directory to "Phone".
To achieve this, the following syntax is used:  

`>filecopier -source D:\Music -dest D:\Phone`  

Which produces the following:

├─ D:  
│&nbsp; &nbsp; ├─ Music  
│&nbsp; &nbsp; │&nbsp; &nbsp; ├─ AC/DC   
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; ├─ Back In Black  
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; ├─ _Music Files_  
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; └─ Folder.png   
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; ├─ Ballbreaker  
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; ├─ _Music Files_  
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; └─ folder.jpg   
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; ├─ Black Ice  
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; ├─ _Music Files_  
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; └─ Folder.jpg   
┊&nbsp; &nbsp; ┊&nbsp; &nbsp; ┊&nbsp; &nbsp; ┊  
│&nbsp; &nbsp; ├─ Phone  
│&nbsp; &nbsp; │&nbsp; &nbsp; ├─ AC/DC  
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; ├─ Back In Black  
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; └─ _Music Files_  
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; └─ Folder.png   
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; ├─ Black Ice  
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; ├─ _Music Files_  
│&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; │&nbsp; &nbsp; └─ Folder.jpg  
┊&nbsp; &nbsp; ┊&nbsp; &nbsp; ┊&nbsp; &nbsp; ┊  
